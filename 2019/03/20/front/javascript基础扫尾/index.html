<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> javascript基础扫尾 · fossi</title><meta name="description" content="javascript基础扫尾 - fossi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="https://sunweiguo.github.io/tags/" target="_blank" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="http://bloghello.oursnail.cn/test.html" target="_blank" class="nav-list-link">爱情</a></li><li class="nav-list-item"><a href="https://github.com/sunweiguo" target="_blank" class="nav-list-link">GIT</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">javascript基础扫尾</h1><div class="post-meta"><span class="post-time">Mar 20, 2019</span></div><div class="post-content"><p>本文继续对js的基础知识进行学习。</p>
<a id="more"></a>
<h2>一、日期操作</h2>
<p>对于日期一般都是简单的显示，因为处理都是在后端的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//获取当前时间</span></span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">	<span class="built_in">console</span>.log(now);<span class="comment">//当前时间：Wed Mar 20 2019 14:58:09 GMT+0800 (中国标准时间)</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//也可以自定义时间</span></span><br><span class="line">	<span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2019-03-20 15:04:14"</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(time);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//可以set也可以get</span></span><br><span class="line">	<span class="built_in">console</span>.log(now.getDay());</span><br><span class="line">	<span class="built_in">console</span>.log(now.getMonth());<span class="comment">//注意0代表的是一月份</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2>二、字符串的一些操作</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//字符串处理</span></span><br><span class="line">	<span class="keyword">var</span> str = <span class="string">"HELLO fossi"</span>;</span><br><span class="line">	<span class="comment">//str = str.replace("o","O");//替换o为O</span></span><br><span class="line">	str = str.replace(<span class="regexp">/o/gi</span>,<span class="string">"e"</span>);<span class="comment">//g全局，i表示忽略大小写，这里用到了正则表达式</span></span><br><span class="line">	<span class="built_in">console</span>.log(str);</span><br><span class="line">	str = <span class="string">"HELLO fossi"</span>;</span><br><span class="line">	<span class="keyword">var</span> res = str.split(<span class="string">" "</span>);<span class="comment">//按照空格进行切割，返回的是数组</span></span><br><span class="line">	<span class="built_in">console</span>.log(res);<span class="comment">// ["HELLO", "fossi"]</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>关于字符串的操作有很多很多，且与其他主流语言支持的差不多，所以就不赘述了。</p>
<h2>三、函数的调用和声明位置</h2>
<p>一般情况下，函数是先定义再调用。但是在js中如果是普通的函数，那么无论是先声明再调用还是先调用再声明，都是可以的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//1.先调用函数，再声明函数</span></span><br><span class="line">	<span class="built_in">console</span>.log(add1(<span class="number">2</span>,<span class="number">3</span>));<span class="comment">//OK</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">add1</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num1+num2;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//2.先声明函数再调用</span></span><br><span class="line">	<span class="comment">//console.log(add1(2,3));//OK</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>但是另一种方式，就是一个函数作为一个变量的写法，就必须先声明再调用了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="built_in">console</span>.log(add2(<span class="number">2</span>,<span class="number">3</span>));<span class="comment">//ERROR</span></span><br><span class="line">    </span><br><span class="line">	<span class="comment">//作为一个变量的话，必须先声明后使用</span></span><br><span class="line">	<span class="keyword">var</span> add2 = <span class="function"><span class="keyword">function</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num1+num2;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//console.log(add2(2,3));//OK</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2>四、函数作为参数传递</h2>
<p>js非常灵活，一个函数就可以作为参数传递进另一个函数中。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="comment">//函数可以作为参数传递给另一个函数</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">addTen</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num+<span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">callFuntion</span>(<span class="params">someFuntion,arg</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> someFuntion(arg);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(callFuntion(addTen,<span class="number">100</span>));<span class="comment">//110</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2>五、根据属性对对象进行排序</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">// 自定义的排序</span></span><br><span class="line">	<span class="keyword">var</span> person1 = &#123;</span><br><span class="line">		name:<span class="string">"fossi"</span>,</span><br><span class="line">		age:<span class="number">20</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> person2 = &#123;</span><br><span class="line">		name:<span class="string">"swg"</span>,</span><br><span class="line">		age:<span class="number">30</span></span><br><span class="line">	&#125;; </span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> person3 = &#123;</span><br><span class="line">		name:<span class="string">"swg"</span>,</span><br><span class="line">		age:<span class="number">25</span></span><br><span class="line">	&#125;; </span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> arr = [person1,person2,person3];</span><br><span class="line">	<span class="comment">//用createComparator进行排序的定义</span></span><br><span class="line">	<span class="built_in">console</span>.log(arr.sort(createComparator(<span class="string">"age"</span>)));</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">createComparator</span>(<span class="params">propertyName</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj1,obj2</span>)</span>&#123;</span><br><span class="line">			<span class="keyword">var</span> value1 = obj1[propertyName];</span><br><span class="line">			<span class="keyword">var</span> value2 = obj2[propertyName];</span><br><span class="line">			<span class="keyword">if</span>(value1 &gt; value2)&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(value1 &lt; value2)&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2>六、apply和call</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="comment">// apply call</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> num1+num2;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">callSum</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">		<span class="comment">//1.第一种写法</span></span><br><span class="line">		<span class="comment">// return sum.apply(this,arguments);</span></span><br><span class="line">		<span class="comment">//2.第二种写法</span></span><br><span class="line">		<span class="keyword">return</span> sum.apply(<span class="keyword">this</span>,[num1,num2]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">console</span>.log(callSum(<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">callSum2</span>(<span class="params">num1,num2</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> sum.call(<span class="keyword">this</span>,num1,num2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(callSum2(<span class="number">2</span>,<span class="number">3</span>));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>apply</code>和<code>call</code>方法类似，简单理解，都是相当于调用其他的方法。它有个显著的特点就是改变作用域，如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="comment">//可以改变作用域</span></span><br><span class="line">	<span class="keyword">var</span> color = <span class="string">"red"</span>;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;<span class="attr">color</span>:<span class="string">"green"</span>&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">showColor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	showColor();<span class="comment">//red</span></span><br><span class="line">	showColor.apply(person);<span class="comment">//green</span></span><br><span class="line">	showColor.call(person);<span class="comment">//green</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>直接调用必然是全局域中的<code>red</code>，但是用<code>apply</code>方法的话，传禁区的是<code>person</code>这个对象，那么此时打印出来的就是这个对象中的属性值。</p>
<h2>七、包装类型</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//基本类型的包装类型</span></span><br><span class="line">	<span class="keyword">var</span> s = <span class="string">"hello fossi"</span>;</span><br><span class="line">	<span class="comment">// 等价于：var s = new String("hello fossi");</span></span><br><span class="line">	<span class="keyword">var</span> res = s.split(<span class="string">" "</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(res);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//但是一旦包装类型创建成功后就不能再像普通对象一样添加属性</span></span><br><span class="line">	s.name = <span class="string">"fossi"</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(s.name);<span class="comment">//undefined</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>包装类型可以提供一些方法让你调用，十分方便。上面说的是字符串，还有布尔和number类型：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> falseObj = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);<span class="comment">//尽量不要用,会引起一些必要的问题</span></span><br><span class="line">	<span class="keyword">var</span> fal = <span class="literal">false</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">typeof</span> falseObj);<span class="comment">//object</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">typeof</span> fal);<span class="comment">//boolean</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//number类型</span></span><br><span class="line">	<span class="keyword">var</span> numberObject = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">10</span>);</span><br><span class="line">	<span class="keyword">var</span> number = <span class="number">10.005</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(number.toFixed(<span class="number">2</span>));<span class="comment">//指定显示的小数的位数，这里就是10.01</span></span><br><span class="line">	<span class="keyword">var</span> number2 = <span class="number">2374281472</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(number2.toExponential());<span class="comment">//指数来表示</span></span><br><span class="line">	<span class="built_in">console</span>.log(number2.toPrecision(<span class="number">3</span>));<span class="comment">//自己指定位数显示</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2>八、eval</h2>
<p>这玩意可就厉害了，可以把js的语句包在字符串里面，可以直接执行和调用，如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="comment">//可以在eval里面嵌套语句或者函数</span></span><br><span class="line">	<span class="keyword">var</span> a = <span class="string">"hello world"</span>;</span><br><span class="line">	<span class="built_in">eval</span>(<span class="string">"console.log(a)"</span>);<span class="comment">//hello world</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">eval</span>(<span class="string">"function say()&#123;alert(a)&#125;"</span>);</span><br><span class="line">	say();<span class="comment">//hello world</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2>九、面向对象</h2>
<p>我们知道定义一个对象，如果没有任何处理的话，可以直接修改它的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;</span><br><span class="line">		name: <span class="string">"fossi"</span>,</span><br><span class="line">		age: <span class="number">20</span>,</span><br><span class="line">		sex: <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	person.name = <span class="string">"swg"</span>; <span class="comment">//如果不让随意做修改怎么办呢?</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>此时就需要给它加上一些规则，允许对它干什么，不允许对它干什么，都规定好。那么如果不允许对它的属性进行修改的话，那么就不能通过上面的方式进行随意修改了，这如何实现的呢？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;</span><br><span class="line">		name: <span class="string">"fossi"</span>,</span><br><span class="line">		age: <span class="number">20</span>,</span><br><span class="line">		sex: <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person,<span class="string">"name"</span>));</span><br><span class="line">	<span class="comment">//主要显示的是四个属性:</span></span><br><span class="line">	<span class="comment">//&#123;value: "fossi", writable: true, enumerable: true, configurable: true&#125;</span></span><br><span class="line">	<span class="comment">//value:值;</span></span><br><span class="line">	<span class="comment">//writable是否可以修改;</span></span><br><span class="line">	<span class="comment">//enumerable是否支持for-in遍历;</span></span><br><span class="line">	<span class="comment">//configurable是否允许删除</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>下面我们来实际操作一下这几个属性。</p>
<p>首先我配置它不允许被删除，下面再删除属性试试：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;</span><br><span class="line">		name: <span class="string">"fossi"</span>,</span><br><span class="line">		age: <span class="number">20</span>,</span><br><span class="line">		sex: <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数据属性-控制对象的数据</span></span><br><span class="line">	<span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</span><br><span class="line">		configurable:<span class="literal">false</span>,<span class="comment">//不允许删除此属性</span></span><br><span class="line">		value:<span class="string">"swg"</span></span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="built_in">console</span>.log(person.name);<span class="comment">//swg</span></span><br><span class="line">	<span class="keyword">delete</span> person.name;</span><br><span class="line">	<span class="built_in">console</span>.log(person.name);<span class="comment">//没有报错,还是swg</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>下面配是一下不能修改：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;</span><br><span class="line">		name: <span class="string">"fossi"</span>,</span><br><span class="line">		age: <span class="number">20</span>,</span><br><span class="line">		sex: <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数据属性-控制对象的数据</span></span><br><span class="line">	<span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</span><br><span class="line">		configurable:<span class="literal">false</span>,<span class="comment">//不允许删除此属性</span></span><br><span class="line">		writable:<span class="literal">false</span></span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="built_in">console</span>.log(person.name);<span class="comment">//fossi</span></span><br><span class="line">	person.name = <span class="string">"swg"</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(person.name);<span class="comment">//fossi</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>修改不成功，说明不让在外面修改了。好了，关于数据属性就介绍这么多，下面说一下访问器属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;</span><br><span class="line">		name: <span class="string">"fossi"</span>,</span><br><span class="line">		_age: <span class="number">0</span>,</span><br><span class="line">		sex: <span class="number">1</span>,</span><br><span class="line">		birth:<span class="number">1994</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数据属性-控制对象的数据</span></span><br><span class="line">	<span class="built_in">Object</span>.defineProperty(person,<span class="string">"age"</span>,&#123;</span><br><span class="line">		get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>._age = <span class="number">2019</span>-<span class="keyword">this</span>.birth;</span><br><span class="line">		&#125;,</span><br><span class="line">		set: <span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</span><br><span class="line">			<span class="keyword">this</span>._age = newVal;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="built_in">console</span>.log(person.age);<span class="comment">//25</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>就是说一调用<code>person.name</code>的时候就会自动调用<code>get</code>来获取，这里就可以实现动态的获取年龄。</p>
<p>注意，这里的age用_age代替.前面加下划线是常用的用法,表示只能用对象方法访问的属性.如果用age回导致死循环赋值.</p>
<p>比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> person = &#123;</span><br><span class="line">		name: <span class="string">"fossi"</span>,</span><br><span class="line">		age: <span class="number">0</span>,</span><br><span class="line">		sex: <span class="number">1</span>,</span><br><span class="line">		birth:<span class="number">1994</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数据属性-控制对象的数据</span></span><br><span class="line">	<span class="built_in">Object</span>.defineProperty(person,<span class="string">"age"</span>,&#123;</span><br><span class="line">		get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.age = <span class="number">2019</span>-<span class="keyword">this</span>.birth;</span><br><span class="line">		&#125;,</span><br><span class="line">		set: <span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.age = newVal;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="built_in">console</span>.log(person.age);<span class="comment">//25</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>显示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">test.html:22 Uncaught RangeError: Maximum call stack size exceeded</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br><span class="line">    at Object.set [as age] (test.html:22)</span><br></pre></td></tr></table></figure>
</div></article></div></section><footer><div class="paginator"><a href="/2019/03/21/leetcode-classic/003-Max Points on a Line/" class="prev">PRVE</a><a href="/2019/03/20/leetcode-classic/002-evaluate-reverse-polish-notation/" class="next">NEXT</a></div><div id="container"></div><link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css">
<script src="https://jjeejj.github.io/js/gitment.js"></script><script>var gitment = new Gitment({
    id: 'Wed Mar 20 2019 21:09:32 GMT+0800',
    owner: 'sunweiguo',
    repo: 'sunweiguo.github.io',
    oauth: {
        client_id: '56c422eddebac740f021',
        client_secret: 'fd1b1eff6dd6efc61b2a09650840be7aaab787fd',
    },
})
gitment.render('container')</script><div class="copyright"><p>© 2019 <a href="http://yoursite.com">fossi</a>,苏ICP备17064972号.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-134836068-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>