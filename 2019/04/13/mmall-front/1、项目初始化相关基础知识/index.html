<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 1、项目初始化相关基础知识 · fossi</title><meta name="description" content="1、项目初始化相关基础知识 - fossi"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/tags" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="http://bloghello.oursnail.cn/test.html" target="_blank" class="nav-list-link">爱情</a></li><li class="nav-list-item"><a href="https://github.com/sunweiguo" target="_blank" class="nav-list-link">GIT</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">1、项目初始化相关基础知识</h1><div class="post-meta"><span class="post-time">Apr 13, 2019</span></div><div class="post-content"><p>主要用的是commonJS+webpack来实现一个商城前端，由于是后端入门，因此有必要先对用到的东西给进行简单的介绍。</p>
<a id="more"></a>
<h2>1.git仓库</h2>
<p>这一块就比较简单了，对于git的安装以及ssh key的配置就不再赘述了，只说明一下比较重要的几个命令。在github上创建好对应的项目之后，比如我这里的：<a href="https://github.com/sunweiguo/mmall-front-study" target="_blank" rel="noopener">https://github.com/sunweiguo/mmall-front-study</a></p>
<p>第一步：<code>git clone https://github.com/sunweiguo/mmall-front-study.git</code></p>
<p>这样，就拉到本地了。下面就可以在本地开发，先不说提交的事情，先说一说另一种情况。</p>
<p>比如我一开始本地自己新建一个文件夹叫做：<code>mmall-front=study</code>，在里面我新建一个文件叫做<code>test.html</code>。此时我想把这个目录下的文件也放到git仓库中如何做呢？</p>
<p>第一步git初始化这个目录：<code>git init</code></p>
<p>第二步就是将本地这个目录与远程仓库对应上：<code>git remote add origin https://github.com/sunweiguo/mmall-front-study.git</code></p>
<p>第三步是从远程的master分支拉取代码下来：<code>git pull origin master</code></p>
<p>下面就是提交目录下面的东西了，步骤都是一样的：</p>
<p>第一步：<code>git add .</code></p>
<p>第二步：<code>git commit -am 'xxx'</code></p>
<p>第三步：<code>git push (--set-upstram origin master)</code></p>
<p>这样就提交远程仓库成功了。</p>
<p>如果要切换分支，假设这个分支还不存在：<code>git checkout -b m_v1.0</code>，解释一下，<code>checkout</code>表示切换分支，<code>-b</code>表示这个分支还不存在，需要新建。</p>
<p>查看分支：<code>git b</code>.</p>
<h2>2.项目目录</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">└─── view</span><br><span class="line">└─── page</span><br><span class="line">└─── service</span><br><span class="line">└─── util</span><br><span class="line">└─── image</span><br></pre></td></tr></table></figure>
<h2>3.commonJS</h2>
<p><code>CommonJS</code>是服务器端模块的规范，<code>Node.js</code>采用了这个规范。</p>
<p>根据<code>CommonJS</code>规范，一个单独的文件就是一个模块。</p>
<p>加载模块使用<code>require</code>方法，该方法读取一个文件并执行，最后返回文件内部的<code>exports</code>对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// addition.js</span></span><br><span class="line"></span><br><span class="line">exports.do = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123; <span class="keyword">return</span> a + b &#125;;</span><br></pre></td></tr></table></figure>
<p>上面的语句定义了一个加法模块，做法就是在<code>exports</code>对象上定义一个do方法，那就是供外部调用的方法。使用的时候，只要用<code>require</code>函数调用即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="built_in">require</span>(<span class="string">'./addition'</span>);</span><br><span class="line"></span><br><span class="line">add.do(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p><code>CommonJS</code>规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。</p>
<h2>4.webpack</h2>
<p>感觉这一篇文章写的不错：<a href="https://segmentfault.com/a/1190000007238519" target="_blank" rel="noopener">前端工程化——Webpack入门使用</a>。</p>
<p>简单来说，就是一切都可以当成模块，<code>require</code>引入，不是<code>js</code>的通过<code>loader</code>解释一下，然后打包到一个<code>js</code>文件，<code>html</code>页面在<code>script</code>引入它。</p>
<h2>5.nodejs&amp;npm</h2>
<p>构建工具webpack依赖于nodejs环境，nodejs是一个基于谷歌的V8引擎的javascript运行环境，用的是一个事件驱动的、非阻塞的IO模型，适用于低运算高IO的场景，比如聊天室。</p>
<p>而NPM是什么呢？它其实一个资源库，拥有世界上最大的开源库，因此你想要用什么库基本都能找到。因此应用比较广泛。</p>
<h2>6.fiddler</h2>
<p>是一个抓包工具，也可以用作代理工具。代理是什么？就是中间多了一个代理商，帮助我们处理请求：</p>
<p><img src="http://bloghello.oursnail.cn/mmall-front-1-1.jpg" alt="image"></p>
<p>代理工具有什么用呢？比如我这里的mmall这个项目，本地开发都是<code>localhost:8080</code>去请求前端的资源，但是如果此时后端接口假如是<code>api.mmall.com</code>，那么就会产生跨域问题，此时，我们访问前端资源还用<code>localhost</code>这个域名，但是当访问后端接口的时候，就可以对这个<code>localhost</code>进行劫持，将其改为<code>api.mmall.com</code>，这样完美解决了开发环境中跨域问题。</p>
<h2>7.项目初始化</h2>
<p>首先在准备好上面工作之后，其实也没啥，就是git处理完成之后，在项目目录下执行<code>npm init</code>，会提示你输入一些信息，都是无关紧要的东西，比如我的：</p>
<p>我的环境都是在windows下，我的nodejs版本是8.11.1,出问题后面再改。npm版本是5.6.0。webpack版本是1.15.0。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">$ npm init</span><br><span class="line">This utility will walk you through creating a package.json file.</span><br><span class="line">It only covers the most common items, and tries to guess sensible defaults.</span><br><span class="line"></span><br><span class="line">See `npm help json` for definitive documentation on these fields</span><br><span class="line">and exactly what they do.</span><br><span class="line"></span><br><span class="line">Use `npm install &lt;pkg&gt;` afterwards to install a package and</span><br><span class="line">save it as a dependency in the package.json file.</span><br><span class="line"></span><br><span class="line">Press ^C at any time to quit.</span><br><span class="line">package name: (mmall-front-study)</span><br><span class="line">version: (1.0.0)</span><br><span class="line">description: mmall前端</span><br><span class="line">entry point: (index.js)</span><br><span class="line">test command:</span><br><span class="line">git repository: (https://github.com/sunweiguo/mmall-front-study.git)</span><br><span class="line">keywords:</span><br><span class="line">author: fossi</span><br><span class="line">license: (ISC)</span><br><span class="line">About to write to F:\git-code\mmall-front-study\package.json:</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;mmall-front-study&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;mmall前端&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+https://github.com/sunweiguo/mmall-front-study.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;author&quot;: &quot;fossi&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/sunweiguo/mmall-front-study/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/sunweiguo/mmall-front-study#readme&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Is this ok? (yes) yes</span><br></pre></td></tr></table></figure>
<p>全局安装<code>webpack</code>：<code>npm install -g webpack@^1.15.0</code>。</p>
<p>我们可以试一下demo:</p>
<p>比如比较简单的情况，就是单一的文件。比如一个入口文件index.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cats = <span class="built_in">require</span>(<span class="string">'./cats.js'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(cats);</span><br></pre></td></tr></table></figure>
<p>这里引用的cats.js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cats = [<span class="string">'dace'</span>,<span class="string">'henry'</span>,<span class="string">'martha'</span>];</span><br><span class="line"><span class="built_in">module</span>.exports = cats;</span><br></pre></td></tr></table></figure>
<p>此时，我们可以用命令行规定一个入口文件以及输出文件即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack ./src/page/index/index.js ./dist/app.js</span><br></pre></td></tr></table></figure>
<p>顺利的话就会看到生成一个dist文件夹，里面有一个app.js文件，但是这种方式比较简单，不能增加一些其他高级的东西，因此推荐下一种方式。</p>
<p>我们设置一个配置文件叫做：<code>webpack.config.js</code>文件作为打包的入口文件。里面的内容为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	entry: <span class="string">'./src/page/index/index.js'</span>,</span><br><span class="line">	output: &#123;</span><br><span class="line">		path: <span class="string">'./dist'</span>,</span><br><span class="line">		filename: <span class="string">'app.js'</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>命令行直接输入<code>webpack</code>即可。入门的使用到此结束。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2019/04/17/mama-action/01-聚合工程创建和注册中心/" class="prev">PRVE</a><a href="/2019/04/05/design-pattern/11-抽象工厂模式/" class="next">NEXT</a></div><div id="container"></div><link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css">
<script src="https://jjeejj.github.io/js/gitment.js"></script><script>var gitment = new Gitment({
    id: 'Sat Apr 13 2019 13:35:03 GMT+0800',
    owner: 'sunweiguo',
    repo: 'sunweiguo.github.io',
    oauth: {
        client_id: '56c422eddebac740f021',
        client_secret: 'fd1b1eff6dd6efc61b2a09650840be7aaab787fd',
    },
})
gitment.render('container')</script><div class="copyright"><p>© 2019 <a href="http://yoursite.com">fossi</a>,苏ICP备17064972号.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-134836068-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>